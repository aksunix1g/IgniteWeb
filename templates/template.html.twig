<!doctype html>
<html class="no-js" lang="zxx">
<head>
    {% block head %}

        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>{% block title %}IGNITE{% endblock %}</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- Favicons -->
        {% block stylesheets %}

            <link rel="shortcut icon" href="{{ asset('web/images/favicon.ico') }}">
            <link rel="apple-touch-icon" href="{{ asset('web/images/icon.png') }}">
            <!-- Google font (font-family: 'Dosis', Roboto;) -->
            <link href="https://fonts.googleapis.com/css?family=Dosis:400,500,600,700" rel="stylesheet">
            <link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700" rel="stylesheet">
            <!-- Stylesheets -->
            <link rel="stylesheet" href="{{ asset('web/css/bootstrap.min.css') }}">
            <link rel="stylesheet" href="{{ asset('web/css/plugins.css') }}">
            <link rel="stylesheet" href="{{ asset('web/style.css') }}">
            <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.0/fullcalendar.min.css">
            <script src="https://js.stripe.com/v3/"></script>
            <!-- Cusom css -->
            <link rel="stylesheet" href="{{ asset('web/css/custom.css') }}">
        {% endblock %}

        <!-- Modernizer js -->
    {% endblock %}
</head>
<body>

<!-- Main wrapper -->
<div class="wrapper" id="wrapper">

    <!-- Header -->
    <header id="header" class="jnr__header header--5 clearfix">
        <!-- Start Header Top Area -->
        <div class="junior__header__top bg--white">
            <div class="container">
                <div class="row">
                    <div class="col-md-7 col-lg-6 col-sm-8 col-12">
                        <div class="jun__header__top__left">
                            <p><span>Welcome To</span> “ IGNITE home ” </p>
                        </div>
                    </div>


                </div>
            </div>
        </div>
        <!-- End Header Top Area -->
        <!-- Start Mainmenu Area -->
        <div class="mainmenu__wrapper bg__cat--1 poss-relative header_top_line sticky__header">
            <div class="container">
                <div class="row d-none d-lg-flex">
                    <div class="col-sm-4 col-md-6 col-lg-2 order-1 order-lg-1">
                        <div class="logo">
                            <a href="index.html">
                                <img src="{{ asset('web/images/logo/3.png') }}" alt="logo images">
                            </a>
                        </div>
                    </div>
                    <div class="col-sm-4 col-md-2 col-lg-9 order-3 order-lg-2">
                        <div class="mainmenu__wrap">
                            <nav class="mainmenu__nav">
                                <ul class="mainmenu">
                                    <li class="drop"><a href="index.html">Home</a>
                                        <ul class="dropdown__menu">

                                        </ul>
                                    </li>
                                    <li class="drop"><a href="class-grid.html">Class</a>
                                        <ul class="dropdown__menu">

                                            </li>
                                            <li><a href="class-details-right-sidebar.html">Class Details
                                                    RightSidebar</a></li>
                                        </ul>
                                    </li>
                                    <li class="drop"><a href="event-grid.html">Event</a>

                                    </li>



                                    <li><a href="contact.html">Contact</a></li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                    <div class="col-lg-1 col-sm-4 col-md-4 order-2 order-lg-3">
                        <div class="shopbox d-flex justify-content-end align-items-center">
                            <a class="minicart-trigger" href="#">
                                <i class="fa fa-shopping-basket"></i>
                            </a>
                            <span id="cart-size">0</span>
                        </div>
                    </div>
                </div>
                <!-- Mobile Menu -->
                <!-- Mobile Menu -->
            </div>
        </div>
        <!-- End Mainmenu Area -->
    </header>
    <!-- //Header -->
    <!-- Start Bradcaump area -->
    <div class="slider__area bg-pngimage--1  d-flex fullscreen justify-content-start align-items-center">
        <div class="container">
            <div class="row">
                <div class="col-md-12 col-lg-12 col-sm-12">
                    <div class="slider__activation">
                        <!-- Start Single Slide -->
                        <div class="slide">
                            <div class="slide__inner">
                                <h1>IGNITE</h1>
                                <div class="slider__text">
                                    <h2>Train more</h2>
                                </div>
                                <div class="slider__btn">
                                    <a class="dcare__btn" href="#">READ MORE</a>
                                </div>
                            </div>
                        </div>
                        <!-- End Single Slide -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Bradcaump area -->


    <section class="dcare__shop__grid  section-padding--lg bg--white">


        {% block section %}


        {% endblock %}
    </section>
    <!-- End Ggrid Page -->
    <!-- Start Footer Area -->
    <footer id="footer" class="footer-area footer--5">
        {% block footer %}

            <div class="footer__wrapper bg-image--24 section-padding--lg">
                <div class="container">
                    <div class="row">
                        <!-- Start Single Widget -->
                        <div class="col-lg-3 col-md-6 col-sm-6 col-12">
                            <div class="footer__widget">
                                <div class="ft__logo">
                                    <a href="index.html">
                                        <img src="{{ asset('web/images/logo/2.png') }}"
                                             alt="logo images">
                                    </a>
                                </div>
                                <div class="ftr__address__inner">
                                    <div class="ftr__details">
                                        <p>Lorem ipsum dolor sit cnr adipisicing elit, sed do eiusmod teagna aliqua.
                                            Lorem ipsudolor sit cnr adi.</p>
                                        <p>Lorem ipsum dolor sit cnr adipisicing elit, sed do eiusmod tempo.</p>
                                    </div>
                                    <div class="footer__social__icon">
                                        <h4 class="">follow us</h4>
                                        <ul class="dacre__social__link--2 d-flex justify-content-start">
                                            <li><a class="facebook" href="https://www.facebook.com/"><i
                                                            class="fa fa-facebook"></i></a></li>
                                            <li><a class="twitter" href="https://twitter.com/"><i
                                                            class="fa fa-twitter"></i></a></li>
                                            <li><a class="vimeo" href="https://vimeo.com/"><i
                                                            class="fa fa-vimeo"></i></a></li>
                                            <li><a class="pinterest" href="https://www.pinterest.com/"><i
                                                            class="fa fa-pinterest-p"></i></a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- End Single Widget -->
                        <!-- Start Single Wedget -->
                        <div class="col-lg-3 col-md-6 col-sm-6 col-12 xs-mt-40">
                            <div class="footer__widget category">
                                <h4>Category</h4>
                                <div class="footer__innner">
                                    <ul class="category__list">
                                        <li><a href="#">Clothing</a></li>
                                        <li><a href="#">Kids Clothing</a></li>
                                        <li><a href="#">Game</a></li>
                                        <li><a href="#">Books</a></li>
                                        <li><a href="#">Kids Clothing</a></li>
                                        <li><a href="#">Sports Ware</a></li>
                                        <li><a href="#">Food & Brevarage</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- End Single Wedget -->
                        <!-- Start Single Wedget -->
                        <div class="col-lg-3 col-md-6 col-sm-6 col-12 md-mt-40 sm-mt-40">
                            <div class="footer__widget quick_link">
                                <h4>Quick Link</h4>
                                <div class="footer__innner">
                                    <ul class="category__list">
                                        <li><a href="index.html">Home</a></li>
                                        <li><a href="about-us.html">About</a></li>
                                        <li><a href="#">Class</a></li>
                                        <li><a href="#">Delivery Information</a></li>
                                        <li><a href="#">Terms & Conditions</a></li>
                                        <li><a href="#">Blog</a></li>
                                        <li><a href="#">Shop</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- End Single Wedget -->
                        <!-- Start Single Wedget -->
                        <div class="col-lg-3 col-md-6 col-sm-6 col-12 md-mt-40 sm-mt-40">
                            <div class="footer__widget">
                                <h4>Contact</h4>
                                <div class="ftr__address__inner contact">
                                    <div class="ftr__address">
                                        <div class="ftr_icon">
                                            <i class="fa fa-home"></i>
                                        </div>
                                        <div class="ftr__contact">
                                            <p>Uttara, Zamzam Tower</p>
                                            <p>Road # 12, Sec #13, 5th Floor</p>
                                        </div>
                                    </div>
                                    <div class="ftr__address">
                                        <div class="ftr_icon">
                                            <i class="fa fa-phone"></i>
                                        </div>
                                        <div class="ftr__contact">
                                            <p><a href="#">+08097-654321</a></p>
                                        </div>
                                    </div>
                                    <div class="ftr__address">
                                        <div class="ftr_icon">
                                            <i class="fa fa-envelope"></i>
                                        </div>
                                        <div class="ftr__contact">
                                            <p><a href="#">juniorhomeschool.@email.com</a></p>
                                            <p><a href="#">Kidscareschool.@yahoo.com</a></p>
                                        </div>
                                    </div>
                                    <div class="paymeny">
                                        <h4>Payment</h4>
                                        <div class="payment__img">
                                            <a href="#"><img
                                                        src="{{ asset('web/images/icons/payment.png') }}"
                                                        alt="payment images"></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- End Single Wedget -->
                    </div>
                </div>
            </div>
            <!-- Start Copyright Area -->
            <div class="copyright bg__cat--10">
                <div class="container">
                    <div class="row align-items-center copyright__wrapper justify-content-center">
                        <div class="col-lg-12 col-sm-12 col-md-12">
                            <div class="coppy__right__inner text-center">
                                <p><i class="fa fa-copyright"></i>All Right Reserved.<a href="#" target="_blank">
                                        Devitems</a></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End Copyright Area -->
        {% endblock %}

    </footer>
    <!-- Start Footer Area ///////////////////////////////////////////////////    PANIER ....../////////////////////-->
    <div class="cartbox-wrap">
        <div class="cartbox text-right">
            <button class="cartbox-close"><i class="zmdi zmdi-close"></i></button>
            <div class="cartbox__inner text-left">
                <div class="cartbox__items" id="cartBody">
                    <!-- Cartbox Single Item -->






                    <!-- //Cartbox Single Item -->
                </div>
                <div class="cartbox__total">
                    <ul>
                        <li class="shipping-charge"><span class="cartbox__total__title">Shipping Charge</span><span class="price">$05</span></li>
                    </ul>
                </div>
                <div class="cartbox__buttons">
                    <a class="dcare__btn" href="javascript:void(0)" onclick="viewCart()"><span>View cart</span></a>
                    <a class="dcare__btn" href="checkout.html"><span>Checkout</span></a>
                </div>
            </div>
        </div>
    </div>
    <!-- QUICKVIEW PRODUCT -->
    <div id="quickview-wrapper">
        <!-- Modal -->
        <div class="modal fade" id="productModal" tabindex="-1" role="dialog">
            <div class="modal-dialog modal__container" role="document">
                <div class="modal-content">
                    <div class="modal-header modal__header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                    aria-hidden="true">&times;</span></button>
                    </div>
                    <div class="modal-body">
                        <div class="modal-product">
                            <!-- Start product images -->
                            <div class="product-images">
                                <div class="main-image images">
                                    <img alt="big images"
                                         src="{{ asset('web/images/product/big-img/1.jpg') }}">
                                </div>
                            </div>
                            <!-- end product images -->
                            <div class="product-info">
                                <h1>Simple Fabric Bags</h1>
                                <div class="rating__and__review">
                                    <ul class="rating">
                                        <li><span class="ti-star"></span></li>
                                        <li><span class="ti-star"></span></li>
                                        <li><span class="ti-star"></span></li>
                                        <li><span class="ti-star"></span></li>
                                        <li><span class="ti-star"></span></li>
                                    </ul>
                                    <div class="review">
                                        <a href="#">4 customer reviews</a>
                                    </div>
                                </div>
                                <div class="price-box-3">
                                    <div class="s-price-box">
                                        <span class="new-price">$17.20</span>
                                        <span class="old-price">$45.00</span>
                                    </div>
                                </div>
                                <div class="quick-desc">
                                    Designed for simplicity and made from high quality materials. Its sleek geometry and
                                    material combinations creates a modern look.
                                </div>
                                <div class="select__color">
                                    <h2>Select color</h2>
                                    <ul class="color__list">
                                        <li class="red"><a title="Red" href="#">Red</a></li>
                                        <li class="gold"><a title="Gold" href="#">Gold</a></li>
                                        <li class="orange"><a title="Orange" href="#">Orange</a></li>
                                        <li class="orange"><a title="Orange" href="#">Orange</a></li>
                                    </ul>
                                </div>
                                <div class="select__size">
                                    <h2>Select size</h2>
                                    <ul class="color__list">
                                        <li class="l__size"><a title="L" href="#">L</a></li>
                                        <li class="m__size"><a title="M" href="#">M</a></li>
                                        <li class="s__size"><a title="S" href="#">S</a></li>
                                        <li class="xl__size"><a title="XL" href="#">XL</a></li>
                                        <li class="xxl__size"><a title="XXL" href="#">XXL</a></li>
                                    </ul>
                                </div>
                                <div class="social-sharing">
                                    <div class="widget widget_socialsharing_widget">
                                        <h3 class="widget-title-modal">Share this product</h3>
                                        <ul class="dacre__social__link--2 bg--2 d-flex">
                                            <li class="facebook"><a target="_blank" href="#" class="rss social-icon"><i
                                                            class="zmdi zmdi-rss"></i></a></li>
                                            <li class="linkedin"><a target="_blank" href="#"
                                                                    class="linkedin social-icon"><i
                                                            class="zmdi zmdi-linkedin"></i></a></li>
                                            <li class="pinterest"><a target="_blank" href="#"
                                                                     class="pinterest social-icon"><i
                                                            class="zmdi zmdi-pinterest"></i></a></li>
                                            <li class="tumblr"><a target="_blank" href="#" class="tumblr social-icon"><i
                                                            class="zmdi zmdi-tumblr"></i></a></li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="addtocart-btn">
                                    <a href="#">Add to cart</a>
                                </div>
                            </div><!-- .product-info -->
                        </div><!-- .modal-product -->
                    </div><!-- .modal-body -->
                </div><!-- .modal-content -->
            </div><!-- .modal-dialog -->
        </div>
        <!-- END Modal -->
    </div>
    <!-- END QUICKVIEW PRODUCT -->

    <!-- Register Form -->


    <!-- Login Form -->


</div><!-- //Main wrapper -->
<script src="{{ asset('web/js/vendor/jquery-3.2.1.min.js') }}"></script>
<script src="{{ asset('web/js/popper.min.js') }}"></script>
<script src="{{ asset('web/js/bootstrap.min.js') }}"></script>
<script src="{{ asset('web/js/plugins.js') }}"></script>
<script src="{{ asset('web/js/active.js') }}"></script>

<script src="{{ asset('web/js/vendor/modernizr-3.5.0.min.js') }}"></script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<script>
    let currentId=0;
    let cart=[];
    let productsCollection=[];
    let cartSize=$('#cart-size');

    let cartBody=$('#cartBody');
    function getOccu(array, id) {
        var nbOcc = 0;
        for (var i = 0; i < array.length; i++) {
            if (array[i] == id) {
                nbOcc++;
            }
        }
        return nbOcc
    }


    function addToCart(id){
        let tmpProduct=productsCollection.find((e)=>e.id===id);
        if (tmpProduct!==undefined){
            let cartItem=cart.find((e)=>e.id===id);
            if (cartItem===undefined){
                tmpProduct.desiredQuantity++;
                cart.push(tmpProduct);
                addCartDOM(tmpProduct);

            }
            else {
                cart[cart.indexOf(cartItem)].desiredQuantity++;
                updateCartRowDOM(cartItem.id);
            }
            /* this is where the dom updates will take place*/


        }else {
            console.error('there was been an error');
        }
    }

    function updateCartRowDOM(id){
        let size=Number.parseInt($('#quantity'+id).text());
        size++;
        $('#quantity'+id).text(size);
    }

    function addCartDOM(product){

        console.log('invoked and the product is');
        console.log(product);
        let imageUrl="{{ asset('#') }}";
        let finalImage=imageUrl.replace("#",product.image);
        cartBody.append("<div class=\"cartbox__item\" id=\"cartRow"+product.id+"\">\n" +
            "                                    <div class=\"cartbox__item__thumb\">\n" +
            "                                        <a href=\"shop-single.html\">\n" +
            "                                            <img src=\""+finalImage+"\" alt=\"small thumbnail\">\n" +
            "                                        </a>\n" +
            "                                    </div>\n" +
            "                                    <div class=\"cartbox__item__content\">\n" +
            "                                        <h5><a href=\"shop-single.html\" class=\"product-name\">"+product.nom+"</a></h5>\n" +
            "                                        <p>Qty: <span id=\"quantity"+product.id+"\">"+product.desiredQuantity+"</span></p>\n" +
            "                                        <span class=\"price\">price :"+product.price * product.desiredQuantity+"</span>\n" +
            "                                    </div>\n" +
            "                                    <button class=\"cartbox__item__remove\" onclick=\"deleteFromCart("+product.id+")\">\n" +
            "                                        <i class=\"fa fa-trash\"></i>\n" +
            "                                    </button>\n" +
            "                                </div>"

        );
        let size=Number.parseInt(cartSize.text());
        size++;
        cartSize.text(size);
    }

    function deleteFromCart(id){
        console.log(id);
        let product =cart.find((e)=>e.id===id);
        console.log(product);
        if (product!==undefined){
            $('#cartRow'+id).remove();
            cart.splice(cart.indexOf(product),1);
            console.table(cart);
            let size=Number.parseInt(cartSize.text());
            size--;
            cartSize.text(size);
        }
        else {
            console.log('element not found ...');
        }
    }

    function viewCart(){
        sessionStorage.setItem('cart',JSON.stringify(cart));
        window.location.href="{{ path('getCartInfo') }}";
    }

    function makeAjaxCall(url,type,params,successCallback,errorCallback,completeCallback){
        // url : lien vers la méthode du controlleur ou on va executer le code serveur souhaité
        // type : type de la requéte : post ,delete , get ,put
        // dataType: type des données envoyé vers le serveur
        // data : les données qui vont étre envoyés dans le serveur
        // success : la fonction qui va étre éxecuté dans le cas d'un scénario nominale sans erreurs
        // error  :  la fonction qui va étre éxecuté dans le cas d'un scénario avec erreurs
        // complete :  la fonction qui va étre éxecuté dans la fin de la requéte ajax
        $.ajax({
                url:url,
                type:type,
                dataType:'json',
                data:params,
                success:successCallback,
                error:errorCallback,
                complete:completeCallback
            }
        );

    }
</script>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script type="text/javascript" src="https://momentjs.com/downloads/moment.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.0/fullcalendar.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.0/locale/fr.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.1.1/helpers.esm.min.js" integrity="sha512-6bJ9T7vca48dxyvajHG+YUYP1Bn7map/S+9aC338LmI3Cw6B6uUZjvQxZaCNdZ07wBtQ0UjO+WxIk/l4oT76ew==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.1.1/chart.esm.js" integrity="sha512-CT5D9dA5vJ5ICB5Ict075kqySUQDOvZP3X8/AoFxOI8Yy/bMIquzEEqP2BhKSIsZcw4LMv0/dgCiCqlavj5gsw==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.1.1/chart.min.js" integrity="sha512-BqNYFBAzGfZDnIWSAEGZSD/QFKeVxms2dIBPfw11gZubWwKUjEgmFUtUls8vZ6xTRZN/jaXGHD/ZaxD9+fDo0A==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.1.1/helpers.esm.js" integrity="sha512-Y1DJBr7W5+rNZN+M4nX64gqTQiQIm6U/dZqtJgtYgbnBvjJy+ovxgzuCBeKRbabXErpTBkEYITVLYG9MwTm+bw==" crossorigin="anonymous"></script>
<script type="text/javascript">
    $(document).ready(function() {
        $("#calendar-holder").fullCalendar({
            eventSources: [
                {
                    url: "/fc-load-events",
                    type: "POST",
                    data: {
                        filters: {},
                    },
                    error: function () {
                        // alert("There was an error while fetching FullCalendar!");
                    }
                }
            ],
            header: {
                center: "title",
                left: "prev,next today",
                right: "month,agendaWeek,agendaDay"
            },
            lazyFetching: true,
            locale: "fr",
            navLinks: true, // can click day/week names to navigate views
        });
    });
</script>
<script type="text/javascript">
    // Create an instance of the Stripe object with your publishable API key
    var stripe = Stripe('pk_test_51IjWBlJ3uLLlWK7lhC8Fg2qbWSewBN8zU3sSzcZ70Ulk2KatlFRaBTb57tR7voLnkbgnWXczOfoRpdvcPfQQBIBv00xWrh3riQ');
    var checkoutButton = document.getElementById('checkout-button');

    checkoutButton.addEventListener('click', function() {
        // Create a new Checkout Session using the server-side endpoint you
        // created in step 3.
        fetch('/create-checkout-session', {
            method: 'POST',
        })
            .then(function(response) {
                return response.json();
            })
            .then(function(session) {
                return stripe.redirectToCheckout({ sessionId: session.id });
            })
            .then(function(result) {
                // If `redirectToCheckout` fails due to a browser or network
                // error, you should display the localized error message to your
                // customer using `error.message`.
                if (result.error) {
                    alert(result.error.message);
                }
            })
            .catch(function(error) {
                console.error('Error:', error);
            });
    });
</script>

{% block javascripts %}

{% endblock %}

</body>
</html>
